{"version":3,"sources":["../../src/ImageLoader_Overwrite.js"],"names":[],"mappings":";;;;;;;AAIA,QAAM,WAAN,GAAoB,UAAW,OAAX,EAAqB;;AAEvC,SAAK,OAAL,GAAiB,YAAY,SAAd,GAA4B,OAA5B,GAAsC,MAAM,qBAA3D;AAED,GAJD;;AAMA,QAAM,WAAN,CAAkB,SAAlB,GAA8B;;AAE5B,iBAAa,MAAM,WAFS;;AAI5B,UAAM,UAAW,GAAX,EAAgB,MAAhB,EAAwB,UAAxB,EAAoC,OAApC,EAA8C;;AAElD,UAAK,KAAK,IAAL,KAAc,SAAnB,EAA+B,MAAM,KAAK,IAAL,GAAY,GAAlB;;AAE/B,UAAI,QAAQ,IAAZ;;AAEA,UAAI,SAAS,MAAM,KAAN,CAAY,GAAZ,CAAiB,GAAjB,CAAb;;AAEA,UAAK,WAAW,SAAhB,EAA4B;;AAE1B,cAAM,OAAN,CAAc,SAAd,CAAyB,GAAzB;;AAEA,YAAK,MAAL,EAAc;;AAEZ,qBAAY,YAAY;;AAEtB,mBAAQ,MAAR;;AAEA,kBAAM,OAAN,CAAc,OAAd,CAAuB,GAAvB;AAED,WAND,EAMG,CANH;AAQD,SAVD,MAUO;;AAEL,gBAAM,OAAN,CAAc,OAAd,CAAuB,GAAvB;AAED;;AAED,eAAO,MAAP;AAED;;AAED,UAAI,QAAQ,SAAS,aAAT,CAAwB,KAAxB,CAAZ;;;;;;;;;;;;AAaA,UAAK,eAAe,SAApB,EAAgC;;AAE9B,cAAM,gBAAN,CAAwB,UAAxB,EAAoC,UAAW,KAAX,EAAmB;;AAErD,qBAAY,KAAZ;AAED,SAJD,EAIG,KAJH;AAMD;;AAED,YAAM,gBAAN,CAAwB,OAAxB,EAAiC,UAAW,KAAX,EAAmB;;AAElD,YAAK,OAAL,EAAe,QAAS,KAAT;;AAEf,cAAM,OAAN,CAAc,SAAd,CAAyB,GAAzB;AAED,OAND,EAMG,KANH;;AAQA,UAAK,KAAK,WAAL,KAAqB,SAA1B,EAAsC,MAAM,WAAN,GAAoB,KAAK,WAAzB;;AAEtC,YAAM,OAAN,CAAc,SAAd,CAAyB,GAAzB;;AAEA,YAAM,GAAN,GAAY,GAAZ;;AAEA,QAAE,KAAF,EAAS,IAAT,CAAc,YAAW;;AAEvB,cAAM,KAAN,CAAY,GAAZ,CAAiB,GAAjB,EAAsB,IAAtB;;AAEA,YAAK,MAAL,EAAc,OAAQ,IAAR;;AAEd,cAAM,OAAN,CAAc,OAAd,CAAuB,GAAvB;AAED,OARD;;AAUA,aAAO,KAAP;AAED,KArF2B;;AAuF5B,oBAAgB,UAAW,KAAX,EAAmB;;AAEjC,WAAK,WAAL,GAAmB,KAAnB;AAED,KA3F2B;;AA6F5B,aAAS,UAAW,KAAX,EAAmB;;AAE1B,WAAK,IAAL,GAAY,KAAZ;AAED;;AAjG2B,GAA9B","file":"ImageLoader_Overwrite.js","sourcesContent":["/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.ImageLoader = function ( manager ) {\n\n  this.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\n};\n\nTHREE.ImageLoader.prototype = {\n\n  constructor: THREE.ImageLoader,\n\n  load: function ( url, onLoad, onProgress, onError ) {\n\n    if ( this.path !== undefined ) url = this.path + url;\n\n    var scope = this;\n\n    var cached = THREE.Cache.get( url );\n\n    if ( cached !== undefined ) {\n\n      scope.manager.itemStart( url );\n\n      if ( onLoad ) {\n\n        setTimeout( function () {\n\n          onLoad( cached );\n\n          scope.manager.itemEnd( url );\n\n        }, 0 );\n\n      } else {\n\n        scope.manager.itemEnd( url );\n\n      }\n\n      return cached;\n\n    }\n\n    var image = document.createElement( 'img' );\n\n\n    // image.addEventListener( 'load', function ( event ) {\n\n    //   THREE.Cache.add( url, this );\n\n    //   if ( onLoad ) onLoad( this );\n\n    //   scope.manager.itemEnd( url );\n\n    // }, false );\n\n    if ( onProgress !== undefined ) {\n\n      image.addEventListener( 'progress', function ( event ) {\n\n        onProgress( event );\n\n      }, false );\n\n    }\n\n    image.addEventListener( 'error', function ( event ) {\n\n      if ( onError ) onError( event );\n\n      scope.manager.itemError( url );\n\n    }, false );\n\n    if ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n    scope.manager.itemStart( url );\n\n    image.src = url;\n\n    $(image).load(function() {\n      \n      THREE.Cache.add( url, this );\n\n      if ( onLoad ) onLoad( this );\n\n      scope.manager.itemEnd( url );\n\n    })\n\n    return image;\n\n  },\n\n  setCrossOrigin: function ( value ) {\n\n    this.crossOrigin = value;\n\n  },\n\n  setPath: function ( value ) {\n\n    this.path = value;\n\n  }\n\n};"]}