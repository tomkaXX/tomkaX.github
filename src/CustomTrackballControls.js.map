{"version":3,"sources":["../../src/CustomTrackballControls.js"],"names":[],"mappings":"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","file":"CustomTrackballControls.js","sourcesContent":["/**\n * @author Eberhard Graether / http://egraether.com/\n * @author Mark Lundin  / http://mark-lundin.com\n * @author Simone Manini / http://daron1337.github.io\n * @author Luca Antiga  / http://lantiga.github.io\n */\n\nvar CustomTrackballControls = function ( object, domElement ) {\n\n  var _this = this;\n  var STATE = { NONE: - 1, ROTATE: 0, ZOOM: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_ZOOM_PAN: 4 };\n\n  this.object = object;\n  this.domElement = ( domElement !== undefined ) ? domElement : document;\n\n  // API\n\n  this.enabled = true;\n\n  this.screen = { left: 0, top: 0, width: 0, height: 0 };\n\n  this.rotateSpeed = 1.0;\n  this.zoomSpeed = 1.2;\n  this.panSpeed = 0.3;\n\n  this.noRotate = false;\n  this.noZoom = false;\n  this.noPan = false;\n\n  this.staticMoving = false;\n  this.dynamicDampingFactor = 0.2;\n\n  this.minDistance = 0;\n  this.maxDistance = Infinity;\n\n  this.keys = [ 65 /*A*/, 83 /*S*/, 68 /*D*/ ];\n\n  // internals\n\n  this.target = new THREE.Vector3();\n\n  var EPS = 0.000001;\n\n  var lastPosition = new THREE.Vector3();\n\n  var _state = STATE.NONE,\n  _prevState = STATE.NONE,\n\n  _eye = new THREE.Vector3(),\n\n  _movePrev = new THREE.Vector2(),\n  _moveCurr = new THREE.Vector2(),\n\n  _lastAxis = new THREE.Vector3(),\n  _lastAngle = 0,\n\n  _zoomStart = new THREE.Vector2(),\n  _zoomEnd = new THREE.Vector2(),\n\n  _touchZoomDistanceStart = 0,\n  _touchZoomDistanceEnd = 0,\n\n  _panStart = new THREE.Vector2(),\n  _panEnd = new THREE.Vector2();\n\n  // for reset\n\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.up0 = this.object.up.clone();\n\n  // events\n\n  var changeEvent = { type: 'change' };\n  var startEvent = { type: 'start' };\n  var endEvent = { type: 'end' };\n\n\n  // methods\n\n  this.handleResize = function () {\n\n    if ( this.domElement === document ) {\n\n      this.screen.left = 0;\n      this.screen.top = 0;\n      this.screen.width = window.innerWidth;\n      this.screen.height = window.innerHeight;\n\n    } else {\n\n      var box = this.domElement.getBoundingClientRect();\n      // adjustments come from similar code in the jquery offset() function\n      var d = this.domElement.ownerDocument.documentElement;\n      this.screen.left = box.left + window.pageXOffset - d.clientLeft;\n      this.screen.top = box.top + window.pageYOffset - d.clientTop;\n      this.screen.width = box.width;\n      this.screen.height = box.height;\n\n    }\n\n  };\n\n  this.handleEvent = function ( event ) {\n\n    if ( typeof this[ event.type ] == 'function' ) {\n\n      this[ event.type ]( event );\n\n    }\n\n  };\n\n  var getMouseOnScreen = ( function () {\n\n    var vector = new THREE.Vector2();\n\n    return function getMouseOnScreen( pageX, pageY ) {\n\n      vector.set(\n        ( pageX - _this.screen.left ) / _this.screen.width,\n        ( pageY - _this.screen.top ) / _this.screen.height\n      );\n\n      return vector;\n\n    };\n\n  }() );\n\n  var getMouseOnCircle = ( function () {\n\n    var vector = new THREE.Vector2();\n\n    return function getMouseOnCircle( pageX, pageY ) {\n\n      vector.set(\n        ( ( pageX - _this.screen.width * 0.5 - _this.screen.left ) / ( _this.screen.width * 0.5 ) ),\n        ( ( _this.screen.height + 2 * ( _this.screen.top - pageY ) ) / _this.screen.width ) // screen.width intentional\n      );\n\n      return vector;\n\n    };\n\n  }() );\n\n  this.rotateCamera = ( function() {\n\n    var axis = new THREE.Vector3(),\n      quaternion = new THREE.Quaternion(),\n      eyeDirection = new THREE.Vector3(),\n      objectUpDirection = new THREE.Vector3(),\n      objectSidewaysDirection = new THREE.Vector3(),\n      moveDirection = new THREE.Vector3(),\n      angle;\n\n    return function rotateCamera() {\n\n      moveDirection.set( _moveCurr.x - _movePrev.x, _moveCurr.y - _movePrev.y, 0 );\n      angle = moveDirection.length();\n\n      if ( angle ) {\n\n        _eye.copy( _this.object.position ).sub( _this.target );\n\n        eyeDirection.copy( _eye ).normalize();\n        objectUpDirection.copy( _this.object.up ).normalize();\n        objectSidewaysDirection.crossVectors( objectUpDirection, eyeDirection ).normalize();\n\n        objectUpDirection.setLength( _moveCurr.y - _movePrev.y );\n        objectSidewaysDirection.setLength( _moveCurr.x - _movePrev.x );\n\n        moveDirection.copy( objectUpDirection.add( objectSidewaysDirection ) );\n\n        axis.crossVectors( moveDirection, _eye ).normalize();\n\n        angle *= _this.rotateSpeed;\n        quaternion.setFromAxisAngle( axis, angle );\n\n        _eye.applyQuaternion( quaternion );\n        _this.object.up.applyQuaternion( quaternion );\n\n        _lastAxis.copy( axis );\n        _lastAngle = angle;\n\n      } else if ( ! _this.staticMoving && _lastAngle ) {\n\n        _lastAngle *= Math.sqrt( 1.0 - _this.dynamicDampingFactor );\n        _eye.copy( _this.object.position ).sub( _this.target );\n        quaternion.setFromAxisAngle( _lastAxis, _lastAngle );\n        _eye.applyQuaternion( quaternion );\n        _this.object.up.applyQuaternion( quaternion );\n\n      }\n\n      _movePrev.copy( _moveCurr );\n\n    };\n\n  }() );\n\n\n  this.zoomCamera = function () {\n\n    var factor;\n\n    if ( _state === STATE.TOUCH_ZOOM_PAN ) {\n\n      factor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\n      _touchZoomDistanceStart = _touchZoomDistanceEnd;\n      _eye.multiplyScalar( factor );\n\n    } else {\n\n      factor = 1.0 + ( _zoomEnd.y - _zoomStart.y ) * _this.zoomSpeed;\n\n      if ( factor !== 1.0 && factor > 0.0 ) {\n\n        _eye.multiplyScalar( factor );\n\n        if ( _this.staticMoving ) {\n\n          _zoomStart.copy( _zoomEnd );\n\n        } else {\n\n          _zoomStart.y += ( _zoomEnd.y - _zoomStart.y ) * this.dynamicDampingFactor;\n\n        }\n\n      }\n\n    }\n\n  };\n\n  this.panCamera = ( function() {\n\n    var mouseChange = new THREE.Vector2(),\n      objectUp = new THREE.Vector3(),\n      pan = new THREE.Vector3();\n\n    return function panCamera() {\n\n      mouseChange.copy( _panEnd ).sub( _panStart );\n\n      if ( mouseChange.lengthSq() ) {\n\n        mouseChange.multiplyScalar( _eye.length() * _this.panSpeed );\n\n        pan.copy( _eye ).cross( _this.object.up ).setLength( mouseChange.x );\n        pan.add( objectUp.copy( _this.object.up ).setLength( mouseChange.y ) );\n\n        _this.object.position.add( pan );\n        _this.target.add( pan );\n\n        if ( _this.staticMoving ) {\n\n          _panStart.copy( _panEnd );\n\n        } else {\n\n          _panStart.add( mouseChange.subVectors( _panEnd, _panStart ).multiplyScalar( _this.dynamicDampingFactor ) );\n\n        }\n\n      }\n\n    };\n\n  }() );\n\n  this.checkDistances = function () {\n\n    if ( ! _this.noZoom || ! _this.noPan ) {\n\n      if ( _eye.lengthSq() > _this.maxDistance * _this.maxDistance ) {\n\n        _this.object.position.addVectors( _this.target, _eye.setLength( _this.maxDistance ) );\n        _zoomStart.copy( _zoomEnd );\n\n      }\n\n      if ( _eye.lengthSq() < _this.minDistance * _this.minDistance ) {\n\n        _this.object.position.addVectors( _this.target, _eye.setLength( _this.minDistance ) );\n        _zoomStart.copy( _zoomEnd );\n\n      }\n\n    }\n\n  };\n\n  this.update = function () {\n\n    _eye.subVectors( _this.object.position, _this.target );\n\n    if ( ! _this.noRotate ) {\n\n      _this.rotateCamera();\n\n    }\n\n    if ( ! _this.noZoom ) {\n\n      _this.zoomCamera();\n\n    }\n\n    if ( ! _this.noPan ) {\n\n      _this.panCamera();\n\n    }\n\n    _this.object.position.addVectors( _this.target, _eye );\n\n    _this.checkDistances();\n\n    _this.object.lookAt( _this.target );\n\n    if ( lastPosition.distanceToSquared( _this.object.position ) > EPS ) {\n\n      _this.dispatchEvent( changeEvent );\n\n      lastPosition.copy( _this.object.position );\n\n    }\n\n  };\n\n  this.reset = function () {\n\n    _state = STATE.NONE;\n    _prevState = STATE.NONE;\n\n    _this.target.copy( _this.target0 );\n    _this.object.position.copy( _this.position0 );\n    _this.object.up.copy( _this.up0 );\n\n    _eye.subVectors( _this.object.position, _this.target );\n\n    _this.object.lookAt( _this.target );\n\n    _this.dispatchEvent( changeEvent );\n\n    lastPosition.copy( _this.object.position );\n\n  };\n\n  this.forceOut = function() {\n\n    _state = STATE.NONE;\n\n    document.removeEventListener( 'mousemove', mousemove );\n    document.removeEventListener( 'mouseup', mouseup );\n    _this.dispatchEvent( endEvent );\n\n  }\n\n  // listeners\n\n  function keydown( event ) {\n\n    if ( _this.enabled === false ) return;\n\n    window.removeEventListener( 'keydown', keydown );\n\n    _prevState = _state;\n\n    if ( _state !== STATE.NONE ) {\n\n      return;\n\n    } else if ( event.keyCode === _this.keys[ STATE.ROTATE ] && ! _this.noRotate ) {\n\n      _state = STATE.ROTATE;\n\n    } else if ( event.keyCode === _this.keys[ STATE.ZOOM ] && ! _this.noZoom ) {\n\n      _state = STATE.ZOOM;\n\n    } else if ( event.keyCode === _this.keys[ STATE.PAN ] && ! _this.noPan ) {\n\n      _state = STATE.PAN;\n\n    }\n\n  }\n\n  function keyup( event ) {\n\n    if ( _this.enabled === false ) return;\n\n    _state = _prevState;\n\n    window.addEventListener( 'keydown', keydown, false );\n\n  }\n\n  function mousedown( event ) {\n\n    if ( _this.enabled === false ) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    if ( _state === STATE.NONE ) {\n\n      _state = event.button;\n\n    }\n\n    if ( _state === STATE.ROTATE && ! _this.noRotate ) {\n\n      _moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\n      _movePrev.copy( _moveCurr );\n\n    } else if ( _state === STATE.ZOOM && ! _this.noZoom ) {\n\n      _zoomStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n      _zoomEnd.copy( _zoomStart );\n\n    } else if ( _state === STATE.PAN && ! _this.noPan ) {\n\n      _panStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n      _panEnd.copy( _panStart );\n\n    }\n\n    document.addEventListener( 'mousemove', mousemove, false );\n    document.addEventListener( 'mouseup', mouseup, false );\n\n    _this.dispatchEvent( startEvent );\n\n  }\n\n  function mousemove( event ) {\n\n    if ( _this.enabled === false ) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    if ( _state === STATE.ROTATE && ! _this.noRotate ) {\n\n      _movePrev.copy( _moveCurr );\n      _moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\n\n    } else if ( _state === STATE.ZOOM && ! _this.noZoom ) {\n\n      _zoomEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\n    } else if ( _state === STATE.PAN && ! _this.noPan ) {\n\n      _panEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\n    }\n\n  }\n\n  function mouseup( event ) {\n\n    if ( _this.enabled === false ) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    _state = STATE.NONE;\n\n    document.removeEventListener( 'mousemove', mousemove );\n    document.removeEventListener( 'mouseup', mouseup );\n    _this.dispatchEvent( endEvent );\n\n  }\n\n  function mousewheel( event ) {\n\n    if ( _this.enabled === false ) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    var delta = 0;\n\n    if ( event.wheelDelta ) {\n\n      // WebKit / Opera / Explorer 9\n\n      delta = event.wheelDelta / 40;\n\n    } else if ( event.detail ) {\n\n      // Firefox\n\n      delta = - event.detail / 3;\n\n    }\n\n    _zoomStart.y += delta * 0.01;\n    _this.dispatchEvent( startEvent );\n    _this.dispatchEvent( endEvent );\n\n  }\n\n  function touchstart( event ) {\n\n    if ( _this.enabled === false ) return;\n\n    switch ( event.touches.length ) {\n\n      case 1:\n        _state = STATE.TOUCH_ROTATE;\n        _moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\n        _movePrev.copy( _moveCurr );\n        break;\n\n      default: // 2 or more\n        _state = STATE.TOUCH_ZOOM_PAN;\n        var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n        var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n        _touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt( dx * dx + dy * dy );\n\n        var x = ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX ) / 2;\n        var y = ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY ) / 2;\n        _panStart.copy( getMouseOnScreen( x, y ) );\n        _panEnd.copy( _panStart );\n        break;\n\n    }\n\n    _this.dispatchEvent( startEvent );\n\n  }\n\n  function touchmove( event ) {\n\n    if ( _this.enabled === false ) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch ( event.touches.length ) {\n\n      case 1:\n        _movePrev.copy( _moveCurr );\n        _moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\n        break;\n\n      default: // 2 or more\n        var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n        var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n        _touchZoomDistanceEnd = Math.sqrt( dx * dx + dy * dy );\n\n        var x = ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX ) / 2;\n        var y = ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY ) / 2;\n        _panEnd.copy( getMouseOnScreen( x, y ) );\n        break;\n\n    }\n\n  }\n\n  function touchend( event ) {\n\n    if ( _this.enabled === false ) return;\n\n    switch ( event.touches.length ) {\n\n      case 0:\n        _state = STATE.NONE;\n        break;\n\n      case 1:\n        _state = STATE.TOUCH_ROTATE;\n        _moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\n        _movePrev.copy( _moveCurr );\n        break;\n\n    }\n\n    _this.dispatchEvent( endEvent );\n\n  }\n\n  function contextmenu( event ) {\n\n    event.preventDefault();\n\n  }\n\n  this.dispose = function() {\n\n    this.domElement.removeEventListener( 'contextmenu', contextmenu, false );\n    this.domElement.removeEventListener( 'mousedown', mousedown, false );\n    this.domElement.removeEventListener( 'mousewheel', mousewheel, false );\n    this.domElement.removeEventListener( 'MozMousePixelScroll', mousewheel, false ); // firefox\n\n    this.domElement.removeEventListener( 'touchstart', touchstart, false );\n    this.domElement.removeEventListener( 'touchend', touchend, false );\n    this.domElement.removeEventListener( 'touchmove', touchmove, false );\n\n    document.removeEventListener( 'mousemove', mousemove, false );\n    document.removeEventListener( 'mouseup', mouseup, false );\n\n    window.removeEventListener( 'keydown', keydown, false );\n    window.removeEventListener( 'keyup', keyup, false );\n\n  };\n\n  this.domElement.addEventListener( 'contextmenu', contextmenu, false );\n  this.domElement.addEventListener( 'mousedown', mousedown, false );\n  this.domElement.addEventListener( 'mousewheel', mousewheel, false );\n  this.domElement.addEventListener( 'MozMousePixelScroll', mousewheel, false ); // firefox\n\n  this.domElement.addEventListener( 'touchstart', touchstart, false );\n  this.domElement.addEventListener( 'touchend', touchend, false );\n  this.domElement.addEventListener( 'touchmove', touchmove, false );\n\n  window.addEventListener( 'keydown', keydown, false );\n  window.addEventListener( 'keyup', keyup, false );\n\n  this.handleResize();\n\n  // force an update at start\n  this.update();\n\n};\n\nCustomTrackballControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nCustomTrackballControls.prototype.constructor = CustomTrackballControls;\n\nexport default CustomTrackballControls;\n"]}